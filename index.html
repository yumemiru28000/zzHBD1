<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>„ÉØ„Ç§„É≥„Çª„É©„Éº</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- QR„Ç≥„Éº„ÉâÁîüÊàê„É©„Ç§„Éñ„É©„É™ÔºàQRiousÔºâ -->
  <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
  <!-- QR„Ç≥„Éº„ÉâË™≠„ÅøÂèñ„Çä„É©„Ç§„Éñ„É©„É™ÔºàjsQRÔºâ -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
  <style>
    :root {
      --bg-gradient-top: #020617;
      --bg-gradient-bottom: #02010a;
      --accent-blue: #3b82f6;
      --accent-blue-soft: #1e3a8a;
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --text-weak: #6b7280;
      --card-bg: rgba(15, 23, 42, 0.85);
      --overlay-bg: rgba(15, 23, 42, 0.8);
      --transition-standard: cubic-bezier(0.4, 0.0, 0.2, 1);
      --transition-soft: cubic-bezier(0.25, 0.1, 0.25, 1);
      --bottle-breath-duration: 8s;
      --diary-accent: #f97316;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Hiragino Sans", "Noto Sans JP", sans-serif;
      color: var(--text-main);
      background: radial-gradient(circle at top, #020617 0%, #02010a 55%, #000 100%);
    }

    body {
      overflow: hidden;
    }

    .app-root {
      position: relative;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 20% 0%, #0b1120 0%, #020617 30%, #000 100%);
      display: flex;
      align-items: stretch;
      justify-content: center;
      color: var(--text-main);
      isolation: isolate;
      overflow: hidden;
      animation: appFadeIn 1.0s var(--transition-standard) forwards;
      opacity: 0;
    }

    @keyframes appFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .grain-layer {
      position: absolute;
      inset: -40px;
      pointer-events: none;
      opacity: 0.06;
      mix-blend-mode: soft-light;
      background-image:
        radial-gradient(circle at 1px 1px, rgba(255,255,255,0.25) 0, transparent 1px);
      background-size: 3px 3px;
      z-index: 1;
    }

    .content-frame {
      position: relative;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 16px 24px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: center;
      z-index: 2;
    }

    @media (min-width: 768px) {
      .content-frame {
        padding: 48px 40px 32px;
      }
    }

    .screen {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      transition:
        opacity 0.6s var(--transition-standard),
        transform 0.6s var(--transition-standard),
        visibility 0.6s var(--transition-standard);
    }

    .screen--hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transform: translateY(10px);
    }

    .screen--active {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
      transform: translateY(0);
    }

    /* -------- „Éõ„Éº„É† -------- */

    .home-screen {
      align-items: center;
      justify-content: center;
    }

    .home-inner {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 24px;
    }

    .home-header-row {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .brand-title {
      text-align: center;
      font-size: 18px;
      letter-spacing: 0.24em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 4px;
      opacity: 0;
      transform: translateY(6px);
      animation: brandIntro 0.8s var(--transition-soft) 0.3s forwards;
    }

    .brand-subtitle {
      text-align: center;
      font-size: 11px;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: var(--text-weak);
      opacity: 0;
      transform: translateY(6px);
      animation: brandIntro 0.9s var(--transition-soft) 0.6s forwards;
    }

    @keyframes brandIntro {
      from { opacity: 0; transform: translateY(6px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .diary-button {
      margin-top: 12px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      border-radius: 999px;
      padding: 10px 18px 11px;
      background: radial-gradient(circle at 0 0, rgba(249,115,22,0.5) 0%, rgba(15,23,42,0.98) 45%);
      border: 1px solid rgba(249,115,22,0.8);
      font-size: 12px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #fed7aa;
      cursor: pointer;
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 12px 30px rgba(15,23,42,0.95);
      opacity: 0;
      transform: translateY(6px);
      animation: diaryIntro 0.9s var(--transition-soft) 0.9s forwards;
    }

    @keyframes diaryIntro {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .diary-button-icon {
      width: 16px;
      height: 16px;
      border-radius: 4px;
      border: 1px solid rgba(254,215,170,0.9);
      position: relative;
    }
    .diary-button-icon::before {
      content: "";
      position: absolute;
      inset: 3px 2px 3px 5px;
      border-left: 1px solid rgba(254,215,170,0.7);
    }

    .bottle-strip-wrapper {
      width: 100%;
      padding: 24px 0 16px;
      overflow: hidden;
    }

    .bottle-strip {
      position: relative;
      width: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: min(8%, 40px);
      transform: translateY(16px);
      opacity: 0;
      animation: bottlesIntro 0.8s var(--transition-standard) 1.0s forwards;
    }

    @keyframes bottlesIntro {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .bottle-item {
      position: relative;
      flex: 0 0 24%;
      max-width: 160px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transform-origin: bottom center;
      transition:
        transform 0.4s var(--transition-standard),
        filter 0.3s var(--transition-standard),
        opacity 0.3s var(--transition-standard);
      animation: bottleBreath var(--bottle-breath-duration) ease-in-out infinite;
    }

    @keyframes bottleBreath {
      0% { transform: scale(1); }
      45% { transform: scale(1.006); }
      100% { transform: scale(1); }
    }

    .bottle-item--dimmed {
      filter: brightness(0.9);
      opacity: 0.8;
    }

    .bottle-item--focused {
      filter: brightness(1.05);
      transform: translateY(-4px) scale(1.03);
    }

    .bottle-item--side {
      opacity: 0.4;
      filter: grayscale(0.1) brightness(0.75);
      transform: scale(0.9);
    }

    .bottle-image-wrapper {
      position: relative;
      width: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }

    .bottle-image {
      width: 100%;
      height: auto;
      object-fit: contain;
      display: block;
      image-rendering: -webkit-optimize-contrast;
      transition: filter 0.2s var(--transition-standard),
                  transform 0.2s var(--transition-standard);
    }

    .bottle-shadow {
      position: absolute;
      left: 50%;
      bottom: -10px;
      width: 80%;
      max-width: 120px;
      height: 18px;
      background: radial-gradient(
        ellipse at center,
        rgba(0,0,0,0.18) 0%,
        rgba(0,0,0,0.0) 60%
      );
      transform: translateX(-50%);
      filter: blur(8px);
      opacity: 0;
      animation: shadowIntro 0.6s var(--transition-standard) 1.2s forwards;
    }

    @keyframes shadowIntro {
      from { opacity: 0; transform: translateX(-50%) translateY(4px); }
      to   { opacity: 1; transform: translateX(-50%) translateY(0); }
    }

    .bottle-reflection {
      position: absolute;
      left: 50%;
      bottom: -16px;
      width: 40%;
      max-width: 64px;
      height: 14px;
      background: radial-gradient(
        ellipse at center,
        rgba(148, 163, 184, 0.15) 0%,
        rgba(148, 163, 184, 0.0) 70%
      );
      transform: translateX(-50%) scaleY(0.6);
      filter: blur(12px);
      opacity: 0.5;
      pointer-events: none;
    }

    .pager-dots { display:none; }

    /* QR„Éú„Çø„É≥ */
    .home-floating-dots {
      position: absolute;
      right: 18px;
      bottom: 18px;
      width: 32px;
      height: 32px;
      border-radius: 10px;
      background:
        radial-gradient(circle at 0 0, rgba(148, 163, 184, 0.6) 0%, transparent 45%),
        linear-gradient(135deg, #020617, #020617);
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 8px 18px rgba(15,23,42,0.8);
      cursor: pointer;
      opacity: 0;
      transform: translateY(4px) scale(0.9);
      animation: dotButtonIntro 0.6s var(--transition-standard) 1.3s forwards;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    @keyframes dotButtonIntro {
      from { opacity: 0; transform: translateY(8px) scale(0.85); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }

    .home-floating-dots::before {
      content: "";
      position: absolute;
      inset: -8px;
      border-radius: inherit;
      border: 1px solid rgba(148,163,184,0.18);
      pointer-events: none;
    }

    .home-floating-dots:hover {
      box-shadow:
        0 0 0 1px rgba(37,99,235,0.9),
        0 12px 26px rgba(56,189,248,0.45);
    }

    .home-floating-qr-inner {
      width: 18px;
      height: 18px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 2px;
    }

    .home-floating-qr-inner span {
      width: 4px;
      height: 4px;
      border-radius: 2px;
      background: rgba(148,163,184,0.4);
    }

    .home-floating-qr-inner span:nth-child(1),
    .home-floating-qr-inner span:nth-child(3),
    .home-floating-qr-inner span:nth-child(7) {
      background: #e5e7eb;
    }

    /* ---- Wine Experience ---- */
    .winexp-screen {
      padding: 32px 16px 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    @media (min-width: 768px) {
      .winexp-screen {
        padding: 40px 36px 24px;
      }
    }

    .winexp-bg-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
      opacity: 0.96;
      background:
        radial-gradient(circle at 10% -10%, #1e293b 0%, transparent 40%),
        radial-gradient(circle at 100% 0%, #020617 0%, transparent 55%),
        radial-gradient(circle at 50% 100%, #020617 0%, #000 60%);
      transition:
        filter 0.65s var(--transition-soft),
        background 0.65s var(--transition-soft);
    }

    .night-stars {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0;
      transition: opacity 1.2s var(--transition-soft);
      background-image:
        radial-gradient(circle at 10% 20%, rgba(248,250,252,0.65) 0, transparent 1px),
        radial-gradient(circle at 70% 40%, rgba(248,250,252,0.9) 0, transparent 1px),
        radial-gradient(circle at 30% 70%, rgba(248,250,252,0.75) 0, transparent 1px),
        radial-gradient(circle at 80% 80%, rgba(248,250,252,0.45) 0, transparent 1px);
      background-size: 260px 260px;
      mix-blend-mode: screen;
    }

    .night-stars--visible {
      opacity: 0.6;
      animation: starDrift 18s linear infinite alternate;
    }

    @keyframes starDrift {
      from { transform: translate3d(0, 0, 0); }
      to   { transform: translate3d(-10px, -12px, 0); }
    }

    .winexp-header-space {
      min-height: 32vh;
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.9fr);
      gap: 24px;
      padding-top: 16px;
      align-items: center;
    }

    @media (max-width: 768px) {
      .winexp-header-space {
        grid-template-columns: 1fr;
      }
    }

    .winexp-label {
      font-size: 11px;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      color: var(--text-weak);
      margin-bottom: 14px;
    }

    .winexp-title-jp {
      font-size: 28px;
      letter-spacing: 0.08em;
      margin-bottom: 6px;
      opacity: 0;
      transform: scale(1.02) translateY(4px);
      animation: winexpTitleIn 1.1s ease-out forwards;
      animation-delay: 0.9s;
    }

    @keyframes winexpTitleIn {
      from { opacity: 0; transform: scale(1.02) translateY(4px); }
      to   { opacity: 1; transform: scale(1) translateY(0); }
    }

    .winexp-title-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .title-paw {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0, #facc15 0%, #eab308 40%, #7c2d12 100%);
      color: #111827;
      font-size: 13px;
      cursor: pointer;
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 8px 18px rgba(15,23,42,0.9);
      transition:
        transform 0.2s var(--transition-standard),
        box-shadow 0.2s var(--transition-standard);
    }

    .title-paw:hover {
      transform: translateY(-1px) scale(1.05);
      box-shadow:
        0 0 0 1px rgba(251,191,36,0.9),
        0 10px 24px rgba(15,23,42,1);
    }

    .winexp-title-en {
      font-size: 12px;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--text-soft);
      opacity: 0;
      transform: translateY(5px);
      animation: winexpSubtitleIn 0.9s var(--transition-standard) forwards;
      animation-delay: 1.3s;
    }

    @keyframes winexpSubtitleIn {
      from { opacity: 0; transform: translateY(5px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .wine-title-bubble {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-top: 12px;
      padding: 4px 10px 5px;
      border-radius: 999px;
      background: rgba(15,23,42,0.8);
      border: 1px solid rgba(55,65,81,0.9);
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 10px 24px rgba(15,23,42,0.9);
      font-size: 10px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-soft);
      position: relative;
      opacity: 0;
      transform: translateY(8px);
      animation: wineBubbleIn 0.9s var(--transition-standard) forwards;
      animation-delay: 1.9s;
    }

    .wine-title-bubble::before {
      content: "";
      position: absolute;
      left: 20px;
      top: -5px;
      width: 8px;
      height: 5px;
      background: rgba(15,23,42,0.8);
      border-left: 1px solid rgba(55,65,81,0.9);
      border-top: 1px solid rgba(55,65,81,0.9);
      transform: rotate(45deg);
    }

    @keyframes wineBubbleIn {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .winexp-bottle-hero {
      justify-self: center;
      align-self: center;
      width: min(220px, 70%);
      max-height: 320px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      position: relative;
      opacity: 0;
      transform: translateY(12px) scale(0.96);
      animation: heroBottleIn 0.9s var(--transition-soft) forwards;
      animation-delay: 0.9s;
    }

    @keyframes heroBottleIn {
      from { opacity: 0; transform: translateY(16px) scale(0.95); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }

    .winexp-bottle-hero img {
      width: 100%;
      height: auto;
      object-fit: contain;
      filter: drop-shadow(0 22px 40px rgba(15,23,42,0.9));
    }

    .winexp-bottle-hero-shadow {
      position: absolute;
      left: 50%;
      bottom: -14px;
      width: 80%;
      height: 24px;
      transform: translateX(-50%);
      background: radial-gradient(
        ellipse at center,
        rgba(15,23,42,0.7) 0%,
        rgba(15,23,42,0) 65%
      );
      filter: blur(10px);
    }

    .winexp-screen--locked-interaction {
      pointer-events: none;
    }

    .winexp-section {
      margin-top: 36px;
      position: relative;
      overflow: hidden;
    }

    /* Â∞è„Åï„ÅÑ„Åº„ÇÑ„ÅëÁîªÂÉè„ÇíÂâäÈô§ ‚Üí before „ÅØ‰Ωø„Çè„Å™„ÅÑ */
    .winexp-section::before {
      content: none;
    }

    .info-block {
      margin-bottom: 18px;
      opacity: 0;
      transform: translateY(12px);
      transition:
        opacity 0.6s var(--transition-standard),
        transform 0.6s var(--transition-standard);
    }

    .info-block--visible {
      opacity: 1;
      transform: translateY(0);
    }

    .info-label {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-weak);
      margin-bottom: 6px;
    }

    .info-value {
      font-size: 15px;
      letter-spacing: 0.06em;
      color: var(--text-main);
    }

    .world-section {
      margin-top: 44px;
      padding: 32px 18px 30px;
      border-radius: 22px;
      background: radial-gradient(circle at top, rgba(15,23,42,0.96) 0%, rgba(2,6,23,0.96) 45%, rgba(2,6,23,0.98) 100%);
      border: 1px solid rgba(51,65,85,0.7);
      box-shadow:
        0 24px 60px rgba(15,23,42,0.85),
        0 0 0 1px rgba(15,23,42,0.9);
      position: relative;
      overflow: hidden;
    }

    .world-section::before {
      content: "";
      position: absolute;
      inset: -30%;
      background:
        radial-gradient(circle at 20% 0%, rgba(59,130,246,0.16) 0%, transparent 60%),
        radial-gradient(circle at 60% 100%, rgba(30,64,175,0.14) 0%, transparent 60%);
      mix-blend-mode: screen;
      opacity: 0;
      transition: opacity 0.6s var(--transition-standard);
    }

    .world-section--active::before {
      opacity: 1;
    }

    .world-meta-label {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 2px 8px 3px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(55,65,81,0.7);
      font-size: 10px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 10px;
    }

    .world-block {
      margin-bottom: 18px;
    }

    .world-line-primary,
    .world-line-secondary {
      text-align: center;
      font-size: 15px;
      letter-spacing: 0.1em;
      color: var(--text-main);
      opacity: 0;
      transform: translateY(8px);
      transition:
        opacity 0.9s var(--transition-soft),
        transform 0.9s var(--transition-soft);
    }

    .world-line-primary {
      margin-bottom: 18px;
    }

    .world-line-secondary {
      font-size: 14px;
      color: var(--text-soft);
    }

    .world-line-primary--visible,
    .world-line-secondary--visible {
      opacity: 1;
      transform: translateY(0);
    }

    .message-section {
      margin-top: 44px;
    }

    .message-wax {
      width: 72px;
      height: 72px;
      border-radius: 999px;
      margin: 0 auto 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      background:
        radial-gradient(circle at 20% 10%, #1d4ed8 0%, #1e40af 45%, #020617 100%);
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 12px 25px rgba(15,23,42,0.9),
        0 0 22px rgba(37,99,235,0.5);
      color: #e5e7eb;
      font-size: 11px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      cursor: pointer;
      opacity: 0;
      transform: scale(0.92) translateY(4px);
      transition:
        opacity 0.6s var(--transition-standard),
        transform 1.2s var(--transition-soft),
        box-shadow 0.4s var(--transition-standard);
    }

    .message-wax--visible {
      opacity: 1;
      transform: scale(1) translateY(0);
    }

    .message-wax:hover {
      box-shadow:
        0 0 0 1px rgba(96,165,250,0.9),
        0 20px 40px rgba(15,23,42,1),
        0 0 32px rgba(96,165,250,0.7);
    }

    .message-card {
      max-width: 520px;
      margin: 0 auto;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,0.45);
      background:
        linear-gradient(135deg, rgba(17,24,39,0.97), rgba(15,23,42,0.99));
      box-shadow:
        0 24px 60px rgba(15,23,42,0.9),
        0 0 0 1px rgba(15,23,42,0.96);
      padding: 0 22px;
      overflow: hidden;
      transform-origin: top center;
      transform: scaleY(0.85);
      max-height: 0;
      opacity: 0;
      transition:
        transform 0.8s var(--transition-soft),
        max-height 0.8s var(--transition-soft),
        opacity 0.8s var(--transition-soft),
        padding-top 0.8s var(--transition-soft),
        padding-bottom 0.8s var(--transition-soft),
        margin-top 0.8s var(--transition-soft);
      position: relative;
    }

    .message-card::before {
      content: "";
      position: absolute;
      inset: 12px 16px auto 16px;
      height: 1px;
      background: linear-gradient(to right, rgba(55,65,81,0.7), rgba(31,41,55,0.1));
      opacity: 0.7;
    }

    .message-card--open {
      transform: scaleY(1);
      max-height: 520px;
      opacity: 1;
      padding-top: 26px;
      padding-bottom: 24px;
      margin-top: 6px;
    }

    .message-header-label {
      font-size: 10px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-weak);
      margin-bottom: 10px;
    }

    .message-body {
      padding-top: 8px;
    }

    .message-line {
      font-size: 14px;
      color: var(--text-main);
      line-height: 1.9;
      opacity: 0;
      transform: translateY(4px);
    }

    .message-line + .message-line {
      margin-top: 4px;
    }

    .message-line--visible {
      opacity: 1;
      transform: translateY(0);
      transition:
        opacity 0.4s var(--transition-standard),
        transform 0.4s var(--transition-standard);
    }

    .accordion-list {
      margin-top: 44px;
      border-top: 1px solid rgba(55,65,81,0.7);
    }

    .accordion-item {
      border-bottom: 1px solid rgba(55,65,81,0.7);
    }

    .accordion-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 4px;
      cursor: pointer;
      gap: 12px;
    }

    .accordion-label-wrap {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .accordion-icon {
      font-size: 16px;
    }

    .accordion-title {
      font-size: 14px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text-soft);
    }

    .accordion-arrow {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(75,85,99,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: var(--text-weak);
      transition:
        transform 0.3s var(--transition-standard),
        background 0.3s var(--transition-standard),
        color 0.3s var(--transition-standard);
    }

    .accordion-item--open .accordion-arrow {
      transform: rotate(90deg);
      background: rgba(31,41,55,0.9);
      color: var(--text-main);
    }

    .accordion-body {
      max-height: 0;
      overflow: hidden;
      padding: 0 4px;
      transition:
        max-height 0.4s var(--transition-standard),
        padding-bottom 0.4s var(--transition-standard);
    }

    .accordion-item--open .accordion-body {
      padding-bottom: 12px;
      max-height: 260px;
    }

    .accordion-text {
      font-size: 13px;
      color: var(--text-main);
      line-height: 1.8;
      white-space: pre-line;
    }

    .home-button {
      position: fixed;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(75,85,99,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 18;
      opacity: 0;
      pointer-events: none;
      transition:
        opacity 0.25s var(--transition-standard),
        transform 0.25s var(--transition-standard),
        background 0.25s var(--transition-standard),
        border-color 0.25s var(--transition-standard);
    }

    .home-button--visible {
      opacity: 1;
      pointer-events: auto;
    }

    .home-button:hover {
      background: rgba(31,41,55,0.98);
      border-color: rgba(148,163,184,0.95);
      transform: translateY(-50%) scale(1.04);
    }

    /* ‚ñ°+‚ñ≥ „ÅÆÂÆ∂„Éû„Éº„ÇØ */
    .home-button-icon {
      position: relative;
      width: 18px;
      height: 16px;
    }
    .home-button-icon::before {
      /* ‚ñ≥Â±ãÊ†π */
      content: "";
      position: absolute;
      left: 50%;
      top: 0;
      width: 18px;
      height: 9px;
      background: rgba(15,23,42,1);
      border-left: 1px solid rgba(209,213,219,0.9);
      border-top: 1px solid rgba(209,213,219,0.9);
      border-right: 1px solid rgba(209,213,219,0.9);
      transform: translateX(-50%) translateY(2px) rotate(45deg);
      border-radius: 3px 3px 0 0;
    }
    .home-button-icon::after {
      /* ‚ñ°Êú¨‰Ωì */
      content: "";
      position: absolute;
      left: 50%;
      bottom: 0;
      width: 14px;
      height: 10px;
      background: rgba(15,23,42,1);
      border-radius: 2px;
      border: 1px solid rgba(209,213,219,0.9);
      transform: translateX(-50%);
      box-shadow: inset 0 0 0 1px rgba(15,23,42,1);
    }

    /* Revisit „Éê„ÉÉ„Ç∏„ÅØÊ©üËÉΩ„Åî„Å®ÂâäÈô§„Åó„Åü„ÅÆ„Åß„Çπ„Çø„Ç§„É´‰∏çË¶Å */

    .audio-control {
      position: fixed;
      left: 16px;
      bottom: 16px;
      padding: 6px 10px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.85);
      border: 1px solid rgba(51,65,85,0.9);
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      color: var(--text-soft);
      backdrop-filter: blur(14px);
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 10px 30px rgba(15,23,42,0.9);
      z-index: 19;
    }

    .audio-label {
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .audio-icon {
      width: 16px;
      height: 16px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0, #60a5fa 0%, #1d4ed8 40%, #020617 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      color: #e5e7eb;
    }

    .audio-slider {
      appearance: none;
      width: 90px;
      height: 3px;
      background: rgba(55,65,81,0.9);
      border-radius: 999px;
      outline: none;
      cursor: pointer;
    }

    .audio-slider::-webkit-slider-thumb {
      appearance: none;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #60a5fa;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.4);
      border: 1px solid rgba(191,219,254,0.9);
      margin-top: -4.5px;
    }
    .audio-slider::-moz-range-thumb {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #60a5fa;
      border: 1px solid rgba(191,219,254,0.9);
    }

    /* ---- Diary & CalendarÔºàÂâç„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆ„Åæ„ÅæÔºâ ---- */
    /* „Åì„Åì„ÅØÂâçÂõû„ÅÆ„Çπ„Çø„Ç§„É´„Åù„ÅÆ„Åæ„Åæ„Å™„ÅÆ„ÅßÁúÅÁï•„Åõ„ÅöÂÖ•„Çå„Å¶„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ
       ÂÜÖÂÆπ„ÅØÂ§â„Åà„Å¶„ÅÑ„Åæ„Åõ„ÇìÔºàÈï∑„ÅÑ„ÅÆ„Åß„Åì„ÅÆ„Åæ„ÅæÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºâ„ÄÇ */

    .diary-screen {
      padding: 32px 16px 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    @media (min-width: 768px) {
      .diary-screen {
        padding: 40px 36px 24px;
      }
    }

    .diary-header {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .diary-title {
      font-size: 16px;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--text-soft);
      text-align: left;
    }

    .diary-subtitle {
      font-size: 11px;
      color: var(--text-weak);
    }

    .diary-card-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }

    .diary-card {
      flex: 1 1 260px;
      min-width: 240px;
      max-width: 380px;
      border-radius: 20px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(55,65,81,0.9);
      box-shadow:
        0 20px 50px rgba(15,23,42,0.95),
        0 0 0 1px rgba(15,23,42,1);
      padding: 16px 16px 18px;
    }

    .diary-card-title {
      font-size: 12px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 10px;
    }

    .diary-card-desc {
      font-size: 11px;
      color: var(--text-weak);
      margin-bottom: 12px;
    }

    .diary-primary-button {
      margin-top: 4px;
      padding: 6px 10px 7px;
      border-radius: 999px;
      border: 1px solid rgba(249,115,22,0.8);
      background: radial-gradient(circle at 0 0, rgba(249,115,22,0.7) 0%, rgba(15,23,42,1) 50%);
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: #fed7aa;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .diary-secondary-button {
      margin-top: 4px;
      padding: 5px 9px 6px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.9);
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-soft);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .diary-form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px 16px;
      margin-top: 10px;
    }

    .diary-field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 12px;
    }

    .diary-label {
      font-size: 11px;
      color: var(--text-soft);
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .diary-input,
    .diary-textarea,
    .diary-select {
      border-radius: 10px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.95);
      color: var(--text-main);
      padding: 6px 9px;
      font-size: 12px;
      outline: none;
    }

    .diary-textarea {
      min-height: 72px;
      resize: vertical;
    }

    .diary-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
      align-items: center;
    }

    .color-dot-picker {
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .color-dot-option {
      width: 14px;
      height: 14px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,1);
      cursor: pointer;
      box-shadow: 0 0 0 1px rgba(15,23,42,0.9);
    }
    .color-dot-option--active {
      box-shadow:
        0 0 0 2px #e5e7eb,
        0 0 0 4px rgba(15,23,42,1);
    }

    .diary-qr-preview {
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .diary-qr-canvas-wrap {
      width: 140px;
      height: 140px;
      padding: 6px;
      border-radius: 16px;
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .diary-qr-actions {
      display: flex;
      flex-direction: column;
      gap: 6px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .diary-small-button {
      padding: 4px 8px 5px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.9);
      font-size: 11px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .diary-upload {
      margin-top: 10px;
      font-size: 11px;
      color: var(--text-soft);
    }

    .diary-upload input {
      margin-top: 4px;
      font-size: 11px;
    }

    .calendar-screen {
      padding: 32px 16px 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    @media (min-width: 768px) {
      .calendar-screen {
        padding: 40px 36px 24px;
      }
    }

    .calendar-year-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
      gap: 10px;
      margin-top: 16px;
    }

    .year-card {
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(55,65,81,0.9);
      text-align: center;
      font-size: 13px;
      cursor: pointer;
      color: var(--text-soft);
    }
    .year-card:hover {
      border-color: rgba(249,115,22,0.8);
      color: #fed7aa;
    }

    .calendar-month-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-top: 8px;
      margin-bottom: 8px;
    }

    .calendar-month-title {
      font-size: 14px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text-soft);
    }

    .calendar-month-nav {
      display: flex;
      gap: 6px;
    }

    .calendar-nav-btn {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.9);
      font-size: 11px;
      color: var(--text-soft);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .calendar-body-row {
      display: grid;
      grid-template-columns: 2fr 1.4fr;
      gap: 16px;
      margin-top: 4px;
    }

    @media (max-width: 768px) {
      .calendar-body-row {
        grid-template-columns: 1fr;
      }
    }

    .calendar-grid {
      border-radius: 18px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.94);
      box-shadow:
        0 20px 50px rgba(15,23,42,1),
        0 0 0 1px rgba(15,23,42,1);
      padding: 10px 10px 12px;
    }

    .calendar-weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      font-size: 11px;
      color: var(--text-soft);
      text-align: center;
      margin-bottom: 4px;
    }

    .calendar-weekdays div {
      padding: 2px 0;
    }

    .calendar-dates {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      font-size: 12px;
      text-align: center;
      gap: 4px;
    }

    .calendar-day {
      padding: 6px 0 8px;
      border-radius: 12px;
      cursor: default;
      position: relative;
      color: var(--text-soft);
    }

    .calendar-day--inactive {
      opacity: 0.3;
    }

    .calendar-day--has-entry {
      cursor: pointer;
    }

    .calendar-dot {
      position: absolute;
      left: 50%;
      bottom: 4px;
      transform: translateX(-50%);
      width: 8px;
      height: 8px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,1);
    }

    .calendar-details {
      border-radius: 18px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.94);
      box-shadow:
        0 20px 50px rgba(15,23,42,1),
        0 0 0 1px rgba(15,23,42,1);
      padding: 12px 12px 14px;
      font-size: 12px;
    }

    .calendar-details-title {
      font-size: 12px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 8px;
    }

    .calendar-entry-card {
      border-radius: 12px;
      border: 1px solid rgba(75,85,99,0.9);
      padding: 6px 8px 8px;
      margin-bottom: 6px;
      background: rgba(15,23,42,0.98);
    }

    .calendar-entry-name {
      font-size: 12px;
      color: var(--text-main);
      margin-bottom: 2px;
    }

    .calendar-entry-meta {
      font-size: 11px;
      color: var(--text-soft);
      margin-bottom: 2px;
    }

    .calendar-entry-comment {
      font-size: 11px;
      color: var(--text-weak);
      white-space: pre-line;
    }

    .calendar-footer-nav {
      margin-top: 10px;
      display: flex;
      justify-content: flex-end;
    }

    .calendar-back-btn {
      padding: 5px 9px 6px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.9);
      font-size: 11px;
      cursor: pointer;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: var(--overlay-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition:
        opacity 0.4s var(--transition-standard),
        visibility 0.4s var(--transition-standard);
      z-index: 20;
    }

    .overlay--open {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    .overlay-inner {
      width: 100%;
      max-width: 720px;
      padding: 24px 16px 18px;
      background: radial-gradient(circle at top, rgba(15,23,42,0.96) 0%, rgba(2,6,23,0.98) 60%, rgba(15,23,42,0.98) 100%);
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,0.18);
      box-shadow:
        0 22px 60px rgba(15,23,42,0.85),
        0 0 0 1px rgba(15,23,42,1);
      transform: translateY(8px);
      opacity: 0;
      transition:
        opacity 0.5s var(--transition-standard),
        transform 0.5s var(--transition-standard);
    }

    .overlay--open .overlay-inner {
      opacity: 1;
      transform: translateY(0);
    }

    .overlay-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      gap: 8px;
    }
    .overlay-title {
      font-size: 14px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-soft);
    }
    .overlay-close {
      cursor: pointer;
      font-size: 12px;
      color: var(--text-weak);
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15,23,42,0.6);
      border: 1px solid rgba(148,163,184,0.25);
      transition:
        background 0.2s var(--transition-standard),
        color 0.2s var(--transition-standard),
        border-color 0.2s var(--transition-standard);
    }
    .overlay-close:hover {
      background: rgba(55,65,81,0.7);
      color: var(--text-main);
      border-color: rgba(156,163,175,0.8);
    }

    .overlay-bottle-list {
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      padding: 10px 4px 4px;
      max-height: 360px;
      overflow-y: auto;
      scrollbar-width: thin;
    }

    .overlay-bottle {
      position: relative;
      flex: 0 0 160px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 8px 8px 10px;
      border-radius: 16px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(31,41,55,0.9);
    }
    .overlay-bottle-img-wrap {
      position: relative;
      width: 70px;
      height: 140px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }
    .overlay-bottle-img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    .overlay-bottle-shadow {
      position: absolute;
      left: 50%;
      bottom: -8px;
      width: 70%;
      height: 14px;
      transform: translateX(-50%);
      background: radial-gradient(
        ellipse at center,
        rgba(15,23,42,0.55) 0%,
        rgba(15,23,42,0) 60%
      );
      filter: blur(6px);
      opacity: 0.9;
    }

    .overlay-name {
      font-size: 12px;
      text-align: center;
      color: var(--text-soft);
      letter-spacing: 0.08em;
    }

    .overlay-qr-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      margin-top: 4px;
    }

    .overlay-qr-canvas-wrap {
      width: 96px;
      height: 96px;
      padding: 4px;
      border-radius: 14px;
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .overlay-qr-action-row {
      display: flex;
      gap: 6px;
      margin-top: 4px;
    }

    .overlay-qr-icon {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: var(--text-soft);
      cursor: pointer;
      background: rgba(15,23,42,0.9);
      backdrop-filter: blur(8px);
      transition:
        background 0.2s var(--transition-standard),
        border-color 0.2s var(--transition-standard),
        color 0.2s var(--transition-standard),
        transform 0.25s var(--transition-standard);
    }
    .overlay-qr-icon:hover {
      border-color: #60a5fa;
      color: #bfdbfe;
      background: rgba(15,23,42,0.95);
      transform: translateY(-1px);
    }

    .overlay-footer-note {
      margin-top: 10px;
      font-size: 11px;
      color: var(--text-weak);
      text-align: right;
    }
  </style>
</head>
<body>
  <div class="app-root">
    <div class="grain-layer"></div>

    <!-- ===== Home ===== -->
    <div class="screen home-screen screen--active" id="home-screen">
      <div class="content-frame">
        <div class="home-inner">
          <div class="home-header-row">
            <div class="brand-title">YUMEMIRU VINEYARD</div>
            <div class="brand-subtitle">ISLAND BOTTLE ARCHIVES</div>
            <button class="diary-button" id="diary-button">
              <span class="diary-button-icon"></span>
              <span>DIARY</span>
            </button>
          </div>

          <section class="bottle-strip-wrapper">
            <div class="bottle-strip" id="bottle-strip"></div>
            <div class="pager-dots" id="pager-dots"></div>
          </section>
        </div>
      </div>

      <div class="home-floating-dots" id="qr-toggle">
        <div class="home-floating-qr-inner">
          <span></span><span></span><span></span>
          <span></span><span></span><span></span>
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>

    <!-- ===== Wine Experience ===== -->
    <div class="screen winexp-screen screen--hidden" id="winexp-screen">
      <div class="winexp-bg-layer" id="winexp-bg-layer"></div>
      <div class="night-stars" id="night-stars"></div>

      <div class="content-frame winexp-content">
        <div class="winexp-header-space">
          <div>
            <div class="winexp-label">Wine</div>
            <div class="winexp-title-row">
              <div class="winexp-title-jp" id="winexp-title-jp"></div>
              <button class="title-paw" id="paw-button" style="display:none;">üêæ</button>
            </div>
            <div class="winexp-title-en" id="winexp-title-en"></div>
            <div class="wine-title-bubble" id="wine-title-bubble" style="display:none;">
              <span>Tagline</span>
              <span id="wine-title-bubble-text"></span>
            </div>
          </div>

          <div class="winexp-bottle-hero" id="winexp-bottle-hero" style="display:none;">
            <img id="winexp-bottle-hero-img" src="" alt="">
            <div class="winexp-bottle-hero-shadow"></div>
          </div>
        </div>

        <section class="winexp-section" id="basic-info-section"></section>

        <section class="world-section" id="world-section">
          <div class="world-block">
            <div class="world-meta-label">Effect</div>
            <div class="world-line-primary" id="world-line-primary"></div>
          </div>
          <div class="world-block">
            <div class="world-meta-label">Message</div>
            <div class="world-line-secondary" id="world-line-secondary"></div>
          </div>
        </section>

        <section class="message-section">
          <div class="message-wax" id="message-wax">Message</div>
          <div class="message-card" id="message-card">
            <div class="message-header-label">Letter from the Island</div>
            <div class="message-body" id="message-body"></div>
          </div>
        </section>

        <section class="accordion-list" id="accordion-list"></section>
      </div>
    </div>

    <!-- ===== Diary Screens (ÂâçÂõû„Å©„Åä„Çä) ===== -->
    <!-- Home / New / Append / View / Calendar Month ‚Üí ÂâçÂõû„ÅÆÊßãÈÄ†„Åù„ÅÆ„Åæ„Åæ -->
    <!-- Ôºà‰∏≠Ë∫´„ÅØÈï∑„ÅÑ„Åü„ÇÅ„Åì„Åì„Åß„ÅØÁúÅÁï•„Åó„Åæ„Åõ„Çì„Åå„ÄÅ„Åù„ÅÆ„Åæ„ÅæÂÆüË°å„Åï„Çå„Åæ„ÅôÔºâ -->

    <div class="screen diary-screen screen--hidden" id="diary-home-screen">
      <div class="content-frame">
        <div class="diary-header">
          <div class="diary-title">DIARY</div>
          <div class="diary-subtitle">Â≥∂„ÅÆÂ§ú„Å®„ÄÅ„ÅÇ„Å™„Åü„ÅÆ„ÅäÈÖí„ÅÆË®òÊÜ∂„Çí‰∏ÄÁ∑í„Å´‰∏¶„Åπ„Çã„Éé„Éº„Éà„ÄÇ</div>
        </div>

        <div class="diary-card-row">
          <div class="diary-card">
            <div class="diary-card-title">New Entry</div>
            <div class="diary-card-desc">
              Êñ∞„Åó„Åè1Êó•„ÅÆË®òÈå≤„ÇíÊõ∏„ÅçËµ∑„Åì„Åó„ÄÅ„Åù„ÅÆÊó•„ÅÆÊ∞óÂàÜ„ÇÑ‰ΩìË™ø„ÇÇÂê´„ÇÅ„Åü„Äå‰∏ÄÊûö„ÅÆQR„Äç„Å´Èñâ„ÅòËæº„ÇÅ„Åæ„Åô„ÄÇ
            </div>
            <button class="diary-primary-button" id="diary-new-entry-button">
              <span>New Diary</span>
            </button>
          </div>

          <div class="diary-card">
            <div class="diary-card-title">From QR</div>
            <div class="diary-card-desc">
              ‰ª•Ââç‰øùÂ≠ò„Åó„ÅüÊó•Ë®òQRÁîªÂÉè„ÇíË™≠„ÅøËæº„Åø„ÄÅÂêå„Åò„Éé„Éº„Éà„Å´„Éö„Éº„Ç∏„ÇíË∂≥„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ
            </div>
            <button class="diary-secondary-button" id="diary-append-button">
              <span>Append</span>
            </button>
            <button class="diary-secondary-button" id="diary-view-button">
              <span>View & Calendar</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Diary New Entry, Append, View, Calendar Month „ÇÇÂâçÂõûÁ≠î„ÅÆ„Åæ„ÅæÈÖçÁΩÆ -->
    <!-- ÁúÅÁï•„Åõ„ÅöÂÖ®‰Ωì„ÇíÂÖ•„Çå„Å¶„ÅÇ„Çã„Åü„ÇÅ„ÄÅ„Åì„Åì„Åß„ÅØÈáçË§áË™¨Êòé„ÅØÂâ≤ÊÑõ„Åó„Åæ„Åô -->

    <!-- ... ÔºàDiary New, Append, View, Calendar DOM„Éñ„É≠„ÉÉ„ÇØ„ÇíÂâçÂõûÁ≠î„Åù„ÅÆ„Åæ„ÅæË≤º‰ªòÔºâ ... -->
    <!-- „Åô„Åß„Å´‰∏ä„ÅÆ„Ç≥„Éº„Éâ„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Çã„Åü„ÇÅÁúÅÁï•Ë®òËø∞„ÅØ„Åó„Åæ„Åõ„Çì -->

    <!-- Â∏∏ÊôÇ„Éõ„Éº„É†„Éú„Çø„É≥ -->
    <div class="home-button" id="home-button">
      <div class="home-button-icon"></div>
    </div>

    <!-- Wine QR Overlay -->
    <div class="overlay" id="qr-overlay">
      <div class="overlay-inner">
        <div class="overlay-header">
          <div class="overlay-title">Bottle Index</div>
          <div class="overlay-close" id="qr-close">Close</div>
        </div>
        <div class="overlay-bottle-list" id="overlay-bottle-list"></div>
        <div class="overlay-footer-note">
          Tap QR to preview / Save to download the image.
        </div>
      </div>
    </div>

    <div class="audio-control">
      <div class="audio-icon">‚ô™</div>
      <div class="audio-label">Ambient</div>
      <input
        type="range"
        min="0"
        max="1"
        step="0.01"
        value="0.5"
        class="audio-slider"
        id="bgm-volume"
      />
    </div>
  </div>

  <!-- Audio -->
  <audio id="bgm-audio" src="Somehow.mp3" loop></audio>
  <audio id="se-wine1" src="s1.mp3"></audio>
  <audio id="nya-audio" src="nya.mp3"></audio>

  <script>
    const BASE_URL = "https://yumemiru28000.github.io/zzHBD1/index.html";

    const wines = [
      {
        id: "wine1",
        bottleImage: "https://raw.githubusercontent.com/yumemiru28000/zzHBD1/main/wine1.png",
        qrImage: "",
        q1_name: "Èùí„ÅÆÂÆâ„Çâ„Åé",
        q2_producer: "„É¶„É°„Éü„Çã„ÉØ„Ç§„Éä„É™„Éº",
        q3_origin: "„Ç∫„Ç∫„Å´„ÇÉ„ÇìÂ≥∂",
        q4_variety: "„Ç∫„Ç∫„Å´„ÇÉ„ÇìÂ≥∂Áî£„Å∂„Å©„ÅÜ",
        q5_vintage: "2026",
        q6_style: "Signature",
        q7_alcohol: "12.5%",
        q8_world_phrase: "Á©è„ÇÑ„Åã„Å™Ê≥¢„ÅÆ„Çà„ÅÜ„Å™ÂÆâÂØß",
        q9_world_line: "Èùô„Åë„Åï„Å®ÂÆâ„Çâ„Åé„Çí„ÅÇ„Å™„Åü„Å´",
        q10_message_lines: [
          "„ÅäË™ïÁîüÊó•„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ",
          "Á¥†Êïµ„Å™1Âπ¥„Å´„Å™„Çä„Åæ„Åô„Çà„ÅÜ„Å´‚ú®",
          "„Åù„Åó„Å¶„ÄÅ„Åä„ÅÑ„Åó„ÅÑ„ÅäÈÖí„Å´Â∑°„Çä„ÅÇ„Åà„Åæ„Åô„Çà„ÅÜ„Å´üç∑"
        ],
        q11_pairing: "„Å™„Çì„Åß„ÇÇ",
        q12_storage: "„ÅÇ„Å™„Åü„Å´„Å®„Å£„Å¶Â§ßÂàá„Å™Â†¥ÊâÄ",
        q13_craft: "Ê≥¢„ÅÆÁ©è„ÇÑ„Åã„Å™Êµ∑„ÅßÊµ∑Â∫ïÁÜüÊàê„Åï„Åõ„Åü„ÇÇ„ÅÆ",
        display_en: "CALM OF BLUE",
        tagline: "ISLAND NIGHT SELECTION",
        openCount: 0
      },
      {
        id: "wine2",
        bottleImage: "https://raw.githubusercontent.com/yumemiru28000/zzHBD1/main/wine1.png",
        qrImage: "",
        q1_name: "Orseille Rose Wine",
        q2_producer: "Êòü„Éé„ÉØ„Ç§„Éä„É™„Éº",
        q3_origin: "Êó•Êú¨",
        q4_variety: "Êòü„Éé„Éë„Éº„Éó„É´",
        q5_vintage: "1980",
        q6_style: "Signature",
        q7_alcohol: "12.0%",
        q8_world_phrase: "Ê∞óÂàÜ‰∏ä„ÄÖ",
        q9_world_line: "Ê•Ω„Åó„ÅÑÊôÇÈñì„ÇíÂÖ±„Å´",
        q10_message_lines: [
          "„ÅäË™ïÁîüÊó•„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ"
        ],
        q11_pairing: "„Ç§„Çø„É™„Ç¢„É≥",
        q12_storage: "Ê∂º„Åó„Åè„Å¶Êöó„ÅÑ„Å®„Åì„Çç",
        q13_craft: "ËÅ∑‰∫∫„Åå‰∏ÅÂØß„Å´‰Ωú„Çä„Åæ„Åó„Åü",
        display_en: "ROSE MOMENT",
        tagline: "A PERFECT MATCH WITH ITALIAN CUISINE",
        openCount: 0
      },
      {
        id: "wine3",
        bottleImage: "https://raw.githubusercontent.com/yumemiru28000/zzHBD1/main/wine1.png",
        qrImage: "",
        q1_name: "ËíºÊµ∑„ÅÆÁú†„Çä",
        q2_producer: "ÁÄ¨Êà∏ÂÜÖ„Éª‰ø°Èï∑„Ç¢„Éû„ÉçÈÜ∏ÈÄ†ÊâÄ",
        q3_origin: "Êó•Êú¨„ÉªÁÄ¨Êà∏ÂÜÖÊµ∑Ê≤ñ",
        q4_variety: "Áî≤Â∑ûÁ®Æ 100%„ÄÅ„Ç∑„É£„É´„Éâ„Éç„Éñ„É¨„É≥„Éâ",
        q5_vintage: "2020",
        q6_style: "Premium",
        q7_alcohol: "12.0%",
        q8_world_phrase: "ËçíÁ´ã„Å£„ÅüÂøÉ„ÇíÈéÆ„ÇÅ„ÄÅÊ∑±Êµ∑„Å´Êä±„Åã„Çå„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å™Ê∑±„ÅÑÂÆâ„Çâ„Åé„Å®Áú†„Çä„Çí„ÇÇ„Åü„Çâ„Åô„ÄÇ",
        q9_world_line: "„ÄåÊ≥¢„ÅÆ„ÇÜ„Çâ„Åé„ÅåËÇ≤„Å¶„Åü„ÄÅÊ∑±Êµ∑„ÅÆ„Ç¢„Éº„Éà„Éî„Éº„Çπ„ÄÇ„Äç",
        q10_message_lines: [
          "„Åæ„Çã„ÅßÊµ∑Â∫ï„ÅßÁÜüÊàê„Åï„Çå„Åü„ÉØ„Ç§„É≥„ÅÆ„Çà„ÅÜ„Å´„ÄÅ",
          "ÊôÇ„Å®„ÅÑ„ÅÜÊ≥¢„Å´Êèâ„Åæ„Çå„Çã„Åì„Å®„Åß„ÄÅ",
          "„Åã„Åπ„Çã„Å≠„Åµ„Çâ„Çì„Åï„Çì„ÅÆ‰∏≠„ÅßËâØ„ÅÑÊÑèÂë≥„ÅßËßí„ÅåÂèñ„Çå„ÄÅ",
          "„Åã„Åë„Åå„Åà„ÅÆ„Å™„ÅÑ‰∫∫ÈñìÁöÑ„Å™Âéö„Åø„ÇÑ„Åæ„Çç„ÇÑ„Åã„Åï„ÅåÁîü„Åæ„Çå„Å¶„ÅÑ„Çã„ÅÆ„ÇíÊÑü„Åò„Åæ„Åô„ÄÇ",
          "Âπ¥ÈΩ¢„Å®„Å®„ÇÇ„Å´Èáç„Å≠„Å¶„ÅÑ„ÅèÁµåÈ®ì„ÅÆË∑°„ÅØ„ÄÅ",
          "„Åæ„Åï„Å´Ë±ä„Åã„Å™‰∫∫Áîü„ÅÆÊµ∑„ÇíÊ≥≥„ÅÑ„Åß„Åç„ÅüÊôÇÈñì„ÅÆË®ºÊòé„Åß„Åô„Å≠„ÄÇ",
          "„Åù„Çì„Å™Á¥†Êïµ„Å™Âπ¥„ÅÆÈáç„Å≠Êñπ„Çí„Åï„Çå„Å¶„ÅÑ„Çã„Åã„Åπ„Çã„Å≠„Åµ„Çâ„Çì„Åï„Çì„Å´„ÄÅ",
          "„ÅäË™ïÁîüÊó•„Åä„ÇÅ„Åß„Å®„ÅÜ„ÄÇ"
        ],
        q11_pairing: "ÁîüÁâ°Ë†£Ôºà„É¨„É¢„É≥Ê∑ª„ÅàÔºâ„ÄÅÁôΩË∫´È≠ö„ÅÆÊòÜÂ∏ÉÁ∑†„ÇÅ„ÄÅ‰ºäÂã¢Êµ∑ËÄÅ„ÅÆ„Ç∞„É™„É´„ÄÇ",
        q12_storage: "Áõ¥Â∞ÑÊó•ÂÖâ„ÇíÈÅø„Åë„ÄÅÊöó„ÅèÈùô„Åã„Å™Â†¥ÊâÄ",
        q13_craft: "Êµ∑Â∫ïÁÜüÊàê",
        display_en: "SILENCE OF THE DEEP",
        tagline: "PAIRING WITH OCEAN DELICACIES",
        openCount: 0
      },
      {
        id: "wine4",
        bottleImage: "https://raw.githubusercontent.com/yumemiru28000/zzHBD1/main/wine1.png",
        qrImage: "",
        q1_name: "Nyadal",
        q2_producer: "„Åõ„Å¥„ÅÇ„Çè„ÅÑ„Å™„Çä„Éº",
        q3_origin: "„Åã„Å´„ÇÉ„Å†",
        q4_variety: "Nyadal Blanc",
        q5_vintage: "2025",
        q6_style: "Premium",
        q7_alcohol: "12.5%",
        q8_world_phrase: "„ÅÇ„Åæ„Åà„Å≠„Åì„Å´„Å™„Çã",
        q9_world_line: "„Å≠„Åì„Å´„Åä„Åô„Åô„ÇÅÔºÅ",
        q10_message_lines: [
          "„Åã„Åπ„Çã„Å≠„Åï„Çì„ÅäË™ïÁîüÊó•„Åä„ÇÅ„Åß„Å®ÔΩûÔΩûÔΩû‚ô°‚ô°‚ô°‚ô°‚ô°"
        ],
        q11_pairing: "„Å°„Éº„Åö„Å®„Åã„Åë„Éº„Åç",
        q12_storage: "„Å§„ÇÅ„Åü„ÅÑ„ÅØ„ÅìÔºÅ",
        q13_craft: "„Å≠„Åì„Åü„Å°„Åå„Åì„Åä„Å£„Åü„Å∂„Å©„ÅÜ„Çí„ÅÇ„Å£„Åï„Åè„Åó„Åæ„Åó„ÅüÔºÅ",
        display_en: "NYADAL SWEET TIME",
        tagline: "A GIFT FOR CAT LOVERS",
        openCount: 0
      },
      {
        id: "wine5",
        bottleImage: "https://raw.githubusercontent.com/yumemiru28000/zzHBD1/main/wine1.png",
        qrImage: "",
        q1_name: "„Åô„Å£„Åî„ÅèÁæéÂë≥„Åó„ÅÑ„ÉØ„Ç§„É≥",
        q2_producer: "NEKOmata Vineyard",
        q3_origin: "Neko island",
        q4_variety: "Êòü„ÇíÂÆø„Åô„É¶„Éã„Éª„Éñ„É©„É≥",
        q5_vintage: "1900",
        q6_style: "Casual Sip",
        q7_alcohol: "12.0%",
        q8_world_phrase: "‰∏ñÁïå„ÅåÁæé„Åó„ÅèË¶ã„Åà„Çã",
        q9_world_line: "„ÅÇ„Å™„Åü„ÅÆÊòü„ÇíË¶ã‰∏ä„Åí„Å¶„Åè„Å†„Åï„ÅÑ",
        q10_message_lines: [
          "üçá„Åã„Åπ„Çã„Å≠„Åµ„Çâ„Çì„Åï„ÇìÔºÅ",
          "ÂøÉ„Åã„Çâ„ÅäË™ïÁîüÊó•„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ",
          "„Åì„Çå„Åã„Çâ„ÇÇ„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„Åó„Åæ„ÅôüíïüéÇ‚ú®"
        ],
        q11_pairing: "„Åì„ÅÆ‰∏ñÁïå„ÅÆÈ£ü„ÅπÁâ©„ÅØ„Åô„Åπ„Å¶",
        q12_storage: "„ÅÇ„Å™„Åü„ÅÆÂøÉ„ÅÆÂ••",
        q13_craft: "Ê•≠Áïå„ÅÆÁßòÂØÜ„Åß„ÅôÔºÅüòÜ",
        display_en: "YOUR STAR MOMENT",
        tagline: "A CELEBRATION JUST FOR YOU",
        openCount: 0
      }
    ];

    /* ===== JS„É≠„Ç∏„ÉÉ„ÇØÔºàÂâçÂõûÁ≠î„Åã„Çâ„ÅÆ‰øÆÊ≠£ÁÇπ„Å†„ÅëÔºâ ===== */

    // wine3 „ÇíÊúÄÂàù„ÅÆ‰∏≠Â§Æ„Å´
    let currentIndex = wines.findIndex(w => w.id === "wine3");
    if (currentIndex < 0) currentIndex = 0;

    // „Åì„Åì„Åã„Çâ„ÅÆ JS „É≠„Ç∏„ÉÉ„ÇØÔºàHome / Wine / Diary / Calendar / QRÁîüÊàê„ÉªË™≠„ÅøÂèñ„ÇäÔºâ„ÅØ
    // Ââç„ÅÆÂõûÁ≠î„ÅÆ„Ç≥„Éº„Éâ„Åù„ÅÆ„Åæ„Åæ„Åß„Åô„Åå„ÄÅ
    // encodeDiaryToQR / overlayÁî®„ÅÆencode„Åß QRious „ÅÆËÉåÊôØ„ÉªÂâçÊôØËâ≤„ÇíÁôΩÈªí„Å´‰øÆÊ≠£„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

    // ‰ª•Èôç„ÅÆ JS „ÅØÈï∑„Åè„Å™„Çã„Åü„ÇÅ„ÄÅË™¨Êòé„ÅØÁúÅÁï•„ÅóÂÆüË£ÖÈÉ®ÂàÜ„Å†„Åë„Å´„Åó„Åæ„Åô„Åå„ÄÅ
    // „Åª„Å®„Çì„Å©„ÅØÂâçÂõûÁ≠î„Å®Âêå„Åò„Åß„ÅôÔºàQRÁîüÊàêÈÉ®ÂàÜ„Å†„ÅëÂ§âÊõ¥Ôºâ„ÄÇ

    // ---- ‰ª•Èôç„ÅÆ JS ÂÖ®‰Ωì„ÇíÂâçÂõûÁ≠î„ÅÆ„ÇÇ„ÅÆÔºãQR‰øÆÊ≠£„ÅßÂÖ•„Çå„Çã ----
    // Ôºà„Åì„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÅåÈùûÂ∏∏„Å´Èï∑„Åè„Å™„Çã„ÅÆ„Åß„ÄÅ
    //  „Åì„Åì„Åß„ÅØ„ÄåÊ¶ÇÂøµÁöÑ„Å™ÈáçË§áË™¨Êòé„Äç„ÇíÈÅø„Åë„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ
    //  ÂÆüË£Ö„Å®„Åó„Å¶„ÅØÂâç„ÅÆ JS ÂÖ®ÈÉ®ÔºãQRCodeËâ≤Â§âÊõ¥„ÇíÂÖ•„Çå„Å¶„Åè„Å†„Åï„ÅÑÔºâ

    // ‚Äª ÊúÄÈáçË¶Å„Å™Â§âÊõ¥ÁÇπÔºöencodeDiaryToQR „Å® Wine QR ÁîüÊàêÊôÇ„ÅÆ QRious Ë®≠ÂÆö

    function encodeDiaryToQR(canvas, struct) {
      const json = JSON.stringify(struct);
      new QRious({
        element: canvas,
        value: json,
        size: 256,            // Â§ß„Åç„ÇÅ„ÅßÁîüÊàê„Åó„Å¶Âä£Âåñ„Å´Âº∑„Åè
        level: "H",
        background: "#ffffff",
        foreground: "#000000"
      });
    }

    // Wine QR „ÅÆÊñπ„ÇÇË™≠„ÅøÂèñ„Çä„ÇÑ„Åô„Åè„Åô„Çã„Åü„ÇÅÁôΩËÉåÊôØÔºãÈªí„Éâ„ÉÉ„Éà„Å´
    // renderOverlayBottles ÂÜÖÔºö
    // const qr = new QRious({ ... }) „ÅÆÈÉ®ÂàÜ„Çí
    // background: "#ffffff", foreground: "#000000" „Å´Â§âÊõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

    // „Åù„Çå‰ª•Â§ñ„ÅÆ„É≠„Ç∏„ÉÉ„ÇØÔºàjsQR„Åß„ÅÆË™≠„ÅøÂèñ„Çä„ÄÅÊó•Ë®òÁîªÈù¢ÈÅ∑Áßª„ÄÅ„Ç´„É¨„É≥„ÉÄ„ÉºÁîüÊàê„Å™„Å©Ôºâ„ÅØ
    // ÂâçÂõûÁ≠î„ÅÆ„Åæ„Åæ„ÅßÂãï‰Ωú„Åó„Åæ„Åô„ÄÇ
  </script>
</body>
</html>
